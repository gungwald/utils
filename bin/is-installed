#!/bin/sh

isFedora()
{
    [ "$ID" = "fedora" ]
}

isRedHatEnterpriseLinux()
{
    [ "$ID" = "rhel" -o  "$ID" = "centos" ]
}

isRpmBased()
{
    [ "$ID" = "fedora" -o  "$ID" = "centos" -o "$ID" = "rhel" ]
}

isDebianBased()
{
    [ "$ID" = "debian" -o "$ID" = "ubuntu" ]
}

loadLinuxSelfIdentification()
{
    . /etc/os-release
}

OS=`uname -s`

if [ "$OS" = Darwin ]
then
    if which port
    then
    	port installed "$@"
    elif which brew
    then
        echo I don\'t know how to determine this for \"brew\". Fix me.
    else
        echo I can\'t do it until you install \"port\" or \"brew\".
    fi
elif [ "$OS" = Linux ]
then
    loadLinuxSelfIdentification
    if isRpmBased
    then
    	rpm --query "$@"
    elif isDebianBased
    then
        dpkg -l "$@" 
    else
        echo I don\'t know how to determine this for $ID. Fix me.
    fi
fi

#!/bin/sh

isFedora()
{
    [ "$ID" = "fedora" ]
}

isDebianBased()
{
    [ "$ID" = "debian" -o "$ID_LIKE" = "debian" ]
}

loadLinuxSelfIdentification()
{
    . /etc/os-release
}

OS=`uname -s`

if [ "$OS" = Darwin ]
then
    if which port
    then
    	port installed "$@"
    elif which brew
        echo I don\'t know how to determine this for \"brew\". Fix me.
    else
        echo I can\'t do it until you install \"port\" or \"brew\".
    fi
elif [ "$OS" = Linux ]
then
    loadLinuxSelfIdentification
    if isFedora
    then
    	dnf list installed "$@"
    elif isDebianBased
    then
        dpkg -l "$@" 
    else
        echo I don\'t know how to determine this for $ID. Fix me.
    fi
fi

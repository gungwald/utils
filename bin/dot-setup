#!/bin/sh

# This might need to be updated if you clone it somewheres else.
utilsDir="$HOME/git/utils"

this="$0"
thisDir=$(dirname "$this")
if [ "$thisDir" = "." ]
then
    thisDir=$(pwd)
fi

for dotFile in .bash_profile .profile .vimrc .inputrc
do
    if [ -f "$HOME/$dotFile" ]
    then
        # Rename original, if it is a normal file.
        mv "$HOME/$dotFile" "$HOME/$dotFile".orig
    elif [ -L "$HOME/$dotFile" ]
    then
        # Remove a symbolic link so it can be recreated.
        rm "$HOME/$dotFile"
    fi

    target="$utilsDir/bin/dot-${dotFile#.}"
    if [ -e "$target" ]
    then
        ln -s "$target" "$HOME/$dotFile"
    fi
done

